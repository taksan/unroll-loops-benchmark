#!/bin/bash

do_benchmark() {
	echo -n "---Time spent by '$FILE_TO_RUN': "
	( time ./$FILE_TO_RUN 8589934592 ) 2>&1 | grep real
}

runjava() {
	export PATH=/usr/lib/jvm/jdk1.6.0_$JDK/bin:$PATH
	for P in $JAVA; do
		echo -n "JDK $JDK - "
		export FILE_TO_RUN=$P
		do_benchmark
	done
}

export JAVA=java-*

export JDK=24
runjava

export JDK=26
runjava

PROGS=*.bin
for P in $PROGS; do
	export FILE_TO_RUN=$P
	do_benchmark
done

